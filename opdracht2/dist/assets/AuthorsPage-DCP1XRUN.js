import{d as k,r as w,o as A,a as u,c,w as a,b as O,e as b,F as z,u as e,I as N,f as B,g as t,h as E,i,A as L,k as P,l as d,t as f,m as _,n as m,p as T,q as $,s as I,v as g,x as h,y as F,z as S}from"./index-B89dtUQL.js";import{a as v}from"./axios-BsqOtiWN.js";const V=k({__name:"authors",setup(C){const p=async n=>{try{await v.post("https://wm.ziasserver.com/api/delete/author",{body:n.id}),l.value=l.value.filter(r=>r.id!==n.id)}catch(r){console.error("Error deleting author:",r)}},o=n=>{n.popup=!n.popup},l=w([]),y=async()=>{try{const n=await v.get("https://wm.ziasserver.com/api/list/authors");l.value=n.data}catch(n){console.error("Error fetching authors:",n)}};return A(()=>{y()}),(n,r)=>(u(),c(e(N),null,{default:a(()=>[(u(!0),O(z,null,b(l.value,s=>(u(),c(e(B),{key:s.id},{default:a(()=>[t(e(E),null,{default:a(()=>[t(e(i),{icon:e(L),slot:"start"},null,8,["icon"]),t(e(P),null,{default:a(()=>[d(f(s.firstName)+" "+f(s.lastName),1)]),_:2},1024)]),_:2},1024),t(e(_),{side:"start"},{default:a(()=>[t(e(m),{onClick:x=>p(s),color:"danger"},{default:a(()=>[t(e(i),{icon:e(T)},null,8,["icon"])]),_:2},1032,["onClick"])]),_:2},1024),t(e(_),{side:"end"},{default:a(()=>[t(e(m),{onClick:x=>o(s)},{default:a(()=>[t(e(i),{icon:e($)},null,8,["icon"])]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}))}}),H=k({__name:"AuthorsPage",setup(C){return(p,o)=>(u(),c(e(S),null,{default:a(()=>[t(e(h),null,{default:a(()=>[t(e(I),null,{default:a(()=>[t(e(g),null,{default:a(()=>o[0]||(o[0]=[d("Authors")])),_:1})]),_:1})]),_:1}),t(e(F),{fullscreen:!0},{default:a(()=>[t(e(h),{collapse:"condense"},{default:a(()=>[t(e(I),null,{default:a(()=>[t(e(g),{size:"large"},{default:a(()=>o[1]||(o[1]=[d("Authors")])),_:1})]),_:1})]),_:1}),t(V)]),_:1})]),_:1}))}});export{H as default};
