import{d as v,r as x,o as b,a as u,c,w as o,b as h,e as w,F as O,u as e,I as z,f as E,g as t,h as L,i,j as P,k as T,l as d,t as $,m as f,n as _,p as F,q as N,s as m,v as I,x as k,y as S,z as V}from"./index-B89dtUQL.js";import{a as g}from"./axios-BsqOtiWN.js";const j=v({__name:"books",setup(y){const p=async a=>{try{await g.post("https://wm.ziasserver.com/api/delete/book",{body:a.id}),l.value=l.value.filter(s=>s.id!==a.id)}catch(s){console.error("Error deleting book:",s)}},n=a=>{a.popup=!a.popup},l=x([]),B=async()=>{try{const a=await g.get("https://wm.ziasserver.com/api/list/books");l.value=a.data}catch(a){console.error("Error fetching books:",a)}};return b(()=>{B()}),(a,s)=>(u(),c(e(z),null,{default:o(()=>[(u(!0),h(O,null,w(l.value,r=>(u(),c(e(E),{key:r.id},{default:o(()=>[t(e(L),null,{default:o(()=>[t(e(i),{icon:e(P),slot:"start"},null,8,["icon"]),t(e(T),null,{default:o(()=>[d($(r.title),1)]),_:2},1024)]),_:2},1024),t(e(f),{side:"start"},{default:o(()=>[t(e(_),{onClick:C=>p(r),color:"danger"},{default:o(()=>[t(e(i),{icon:e(F)},null,8,["icon"])]),_:2},1032,["onClick"])]),_:2},1024),t(e(f),{side:"end"},{default:o(()=>[t(e(_),{onClick:C=>n(r)},{default:o(()=>[t(e(i),{icon:e(N)},null,8,["icon"])]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}))}}),H=v({__name:"BooksPage",setup(y){return(p,n)=>(u(),c(e(V),null,{default:o(()=>[t(e(k),null,{default:o(()=>[t(e(m),null,{default:o(()=>[t(e(I),null,{default:o(()=>n[0]||(n[0]=[d("Books")])),_:1})]),_:1})]),_:1}),t(e(S),{fullscreen:!0},{default:o(()=>[t(e(k),{collapse:"condense"},{default:o(()=>[t(e(m),null,{default:o(()=>[t(e(I),{size:"large"},{default:o(()=>n[1]||(n[1]=[d("Books")])),_:1})]),_:1})]),_:1}),t(j)]),_:1})]),_:1}))}});export{H as default};
